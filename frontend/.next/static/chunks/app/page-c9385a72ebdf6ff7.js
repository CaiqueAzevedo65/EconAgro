(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8220:function(A,e,a){Promise.resolve().then(a.bind(a,8622))},8622:function(A,e,a){"use strict";a.r(e),a.d(e,{default:function(){return n}});var t=a(7437);a(2265);var r=a(9376);let s=[{name:"Carnes",img:{src:"/_next/static/media/imagem1.17897a6b.jpg",height:550,width:800,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAYACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAABQb/2gAMAwEAAhADEAAAAJAPqv/EABwQAAICAgMAAAAAAAAAAAAAAAEDAgQAITFRgf/aAAgBAQABPwBVqvOjJzEmSlqkQvjXXpz/xAAZEQEAAgMAAAAAAAAAAAAAAAABAAIREkH/2gAIAQIBAT8AoDtnjP/EABkRAQACAwAAAAAAAAAAAAAAAAEAAhESIv/aAAgBAwEBPwDawVwpzP/Z",blurWidth:8,blurHeight:6},path:"/categoria/Carnes"},{name:"Ovos",img:{src:"/_next/static/media/imagem2.e96ec34b.jpg",height:480,width:480,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAAAwEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAkBM//8QAHhAAAQMEAwAAAAAAAAAAAAAAEQMEBQABAhIhMpL/2gAIAQEAAT8AQlm/bOTVu7Gmp58gV//EABgRAAIDAAAAAAAAAAAAAAAAAAEDABEh/9oACAECAQE/AAlYvJ//xAAYEQEAAwEAAAAAAAAAAAAAAAABABETIf/aAAgBAwEBPwDR5QE//9k=",blurWidth:8,blurHeight:8},path:"/categoria/Ovos"},{name:"Latic\xednios",img:{src:"/_next/static/media/imagem3.bee3d98d.jpg",height:556,width:810,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABQEBAAAAAAAAAAAAAAAAAAAABP/aAAwDAQACEAMQAAAAkAy//8QAHRAAAwAABwAAAAAAAAAAAAAAAgMEAAEREhYhQf/aAAgBAQABPwA4ouIb1TAs20r7y18LH//EABcRAAMBAAAAAAAAAAAAAAAAAAABAlH/2gAIAQIBAT8AVVp//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAECEkH/2gAIAQMBAT8ApF4f/9k=",blurWidth:8,blurHeight:5},path:"/categoria/Latic\xednios"},{name:"Gr\xe3os",img:{src:"/_next/static/media/imagem4.27470d84.jpg",height:436,width:696,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAAAwEBAQAAAAAAAAAAAAAAAAAABAX/2gAMAwEAAhADEAAAAICS/wD/xAAbEAADAAIDAAAAAAAAAAAAAAABAgMSIQARE//aAAgBAQABPwClmC+FwK5suROuyuwef//EABkRAAIDAQAAAAAAAAAAAAAAAAIRAAEhQf/aAAgBAgEBPwAcAV2nP//EABgRAAIDAAAAAAAAAAAAAAAAAAABAhEh/9oACAEDAQE/AJJW8P/Z",blurWidth:8,blurHeight:5},path:"/categoria/Gr\xe3os"},{name:"Frutas",img:{src:"/_next/static/media/imagem5.77470cc7.jpg",height:354,width:620,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAUACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAAAgEBAAAAAAAAAAAAAAAAAAAABf/aAAwDAQACEAMQAAAAkHp//8QAHRAAAAUFAAAAAAAAAAAAAAAAAAIEERIDExQhIv/aAAgBAQABPwAqWlhFTdQsxd9j/8QAGhEAAAcAAAAAAAAAAAAAAAAAAAQREyFSwf/aAAgBAgEBPwArLq3wf//EABsRAAEEAwAAAAAAAAAAAAAAAAEAAgMRIVGh/9oACAEDAQE/AJAKZjfCv//Z",blurWidth:8,blurHeight:5},path:"/categoria/Frutas"},{name:"Verduras",img:{src:"/_next/static/media/imagem6.7ab87356.jpg",height:500,width:500,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAQP/2gAMAwEAAhADEAAAAKgz/8QAHBAAAgEFAQAAAAAAAAAAAAAAAQISAAMEESEU/9oACAEBAAE/AM/1WwryXUBJdjp7X//EABgRAAIDAAAAAAAAAAAAAAAAAAACE2KR/9oACAECAQE/AI7vp//EABoRAAAHAAAAAAAAAAAAAAAAAAABAhMhIpH/2gAIAQMBAT8AbgrK0f/Z",blurWidth:8,blurHeight:8},path:"/categoria/Verduras"},{name:"Legumes",img:{src:"/_next/static/media/imagem7.0dad96f0.jpg",height:292,width:564,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAQACAMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABgEBAAAAAAAAAAAAAAAAAAAABf/aAAwDAQACEAMQAAAAvAYj/8QAHRAAAQQCAwAAAAAAAAAAAAAABAECAxIAESExQf/aAAgBAQABPwCSGWE8gphhF1Vi1slePNa6z//EABkRAAIDAQAAAAAAAAAAAAAAAAIiAAEDQf/aAAgBAgEBPwDEzdr5P//EABwRAAIABwAAAAAAAAAAAAAAAAECAAMEESNBYf/aAAgBAwEBPwCoRFMuyKMa65H/2Q==",blurWidth:8,blurHeight:4},path:"/categoria/Legumes"},{name:"Sementes",img:{src:"/_next/static/media/imagem8.75f110e2.jpg",height:253,width:338,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAYACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABQEBAQAAAAAAAAAAAAAAAAAAAAP/2gAMAwEAAhADEAAAAJgk/8QAHBABAAEEAwAAAAAAAAAAAAAAAwIAAQRCBRIT/9oACAEBAAE/AMlSPhshZxv184gZx0W29f/EABkRAQACAwAAAAAAAAAAAAAAAAEAAwIRIv/aAAgBAgEBPwBDKunYPBP/xAAZEQADAAMAAAAAAAAAAAAAAAABAgMAIUP/2gAIAQMBAT8AqxKx3zGf/9k=",blurWidth:8,blurHeight:6},path:"/categoria/Sementes"}];var o=a(8841),i=a(3145);function n(){let A=(0,r.useRouter)();return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-bg-light",children:[(0,t.jsx)("div",{className:"container mx-auto px-4 py-10",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto",children:s.map(e=>(0,t.jsxs)("div",{onClick:()=>A.push("/categoria/".concat(e.name)),onKeyDown:a=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),A.push("/categoria/".concat(e.name)))},role:"button",tabIndex:0,"aria-label":"Ver produtos de ".concat(e.name),className:"relative h-32 rounded-2xl overflow-hidden cursor-pointer shadow-md transition-all duration-300 hover:scale-105 hover:shadow-xl group",children:[(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,t.jsx)(i.default,{src:e.img,alt:e.name,fill:!0,style:{objectFit:"cover"},className:"transition-all duration-300 group-hover:brightness-75 brightness-90"})}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,t.jsx)("p",{className:"text-white text-xl font-bold drop-shadow-lg text-center px-2",children:e.name})})]},e.name))})}),(0,t.jsx)("div",{className:"bg-white py-12",children:(0,t.jsxs)("div",{className:"container mx-auto px-4",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-center text-dark mb-8 relative after:content-[''] after:block after:w-16 after:h-1 after:bg-primary after:mx-auto after:mt-2",children:"Produtos em Destaque"}),(0,t.jsx)(o.Z,{})]})})]})}},8841:function(A,e,a){"use strict";a.d(e,{Z:function(){return h}});var t=a(7437),r=a(2265),s=a(4681),o=a(5143),i=a(5583),n=a(1780),g=a(3464),c=a(257);let l=g.Z.create({baseURL:(()=>{let A=c.env.NEXT_PUBLIC_API_URL||c.env.REACT_APP_API_URL;if(!A)return"http://localhost:3001/api";let e=A.replace(/\/$/,"");return/\/api$/i.test(e)?e:"".concat(e,"/api")})(),headers:{"Content-Type":"application/json"}});l.interceptors.request.use(A=>(console.log("Enviando requisi\xe7\xe3o: ".concat(A.method.toUpperCase()," ").concat(A.url)),A),A=>(console.error("Erro na requisi\xe7\xe3o:",A),Promise.reject(A))),l.interceptors.response.use(A=>(console.log("Resposta recebida: ".concat(A.status," ").concat(A.config.url)),A),A=>{var e;return console.error("Erro na resposta:",null===(e=A.response)||void 0===e?void 0:e.status,A.message),Promise.reject(A)});var d={async getProducts(A){try{let e;e=A?await l.get("/products/category/".concat(encodeURIComponent(A))):await l.get("/products");let a=[];e.data&&(Array.isArray(e.data)?a=e.data:e.data.data&&Array.isArray(e.data.data)?a=e.data.data:(console.warn("Estrutura de dados inesperada:",e.data),a=[]));let t=l.defaults.baseURL.replace(/\/api\/?$/,"");return a.map(A=>{let e=A.img&&A.img.startsWith("http")?A.img:A.img?"".concat(t).concat(A.img):"https://placehold.co/300x200?text=Imagem+n\xe3o+encontrada";return(0,n._)((0,i._)({},A),{img:e})})}catch(A){throw console.error("Erro no servi\xe7o de produtos:",A),A}}};let u="https://placehold.co/300x200?text=Imagem+n\xe3o+encontrada";var h=function(A){let{category:e}=A,{addToCart:a}=(0,s.j)(),{searchTerm:i}=(0,o.R)(),[n,g]=(0,r.useState)([]),[c,l]=(0,r.useState)([]),[h,E]=(0,r.useState)(!0),[m,C]=(0,r.useState)(null),[Q,x]=(0,r.useState)(null),B=A=>{A.target.src=u,A.target.onerror=null},w=A=>{a(A),x(A.id||A._id||A.name),setTimeout(()=>{x(null)},1e3)};return((0,r.useEffect)(()=>{(async()=>{try{E(!0),C(null);let A=await d.getProducts(e);g(A),l(A)}catch(A){console.error("Erro ao buscar produtos:",A),C("Erro ao carregar produtos. Tente novamente mais tarde.")}finally{E(!1)}})()},[e]),(0,r.useEffect)(()=>{if(i){let A=i.toLowerCase();l(n.filter(e=>e.name.toLowerCase().includes(A)||e.description&&e.description.toLowerCase().includes(A)))}else l(n)},[i,n]),h)?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500 font-medium",children:"Carregando produtos..."}):m?(0,t.jsx)("div",{className:"text-center py-8 text-error font-medium",children:m}):n.length?i&&!c.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:['Nenhum produto encontrado para "',(0,t.jsx)("span",{className:"font-bold",children:i}),'".',(0,t.jsx)("br",{}),(0,t.jsx)("small",{className:"text-gray-400",children:"Tente buscar por outros termos."})]}):(0,t.jsx)("main",{className:"w-full",children:(0,t.jsx)("section",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[i&&(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold text-dark",children:['Resultados para: "',i,'"']}),(0,t.jsxs)("p",{className:"text-gray-600",children:[c.length," produto(s) encontrado(s)"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map(A=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden flex flex-col h-full border border-gray-100",children:[(0,t.jsx)("div",{className:"relative h-48 w-full bg-gray-100 overflow-hidden group",children:(0,t.jsx)("img",{src:A.img||u,alt:A.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:B})}),(0,t.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-dark mb-2 line-clamp-2",children:A.name}),(0,t.jsx)("p",{className:"text-primary font-bold text-xl mb-4 mt-auto",children:A.price}),(0,t.jsx)("button",{className:"w-full py-2 px-4 rounded-md font-bold transition-all duration-300 transform active:scale-95 ".concat(Q===(A.id||A._id||A.name)?"bg-success text-white cursor-default":"bg-primary text-white hover:bg-secondary hover:shadow-md"),onClick:()=>w(A),disabled:Q===(A.id||A._id||A.name),children:Q===(A.id||A._id||A.name)?"Adicionado!":"Adicionar ao Carrinho"})]})]},A.id||A._id||A.name))})]})})}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500 font-medium",children:"Nenhum produto encontrado."})}},4681:function(A,e,a){"use strict";a.d(e,{Z:function(){return n},j:function(){return g}});var t=a(5583),r=a(1780),s=a(7437),o=a(2265);let i=(0,o.createContext)();function n(A){let{children:e}=A,[a,n]=(0,o.useState)([]);return(0,s.jsx)(i.Provider,{value:{cart:a,addToCart:A=>{n(e=>e.find(e=>e.name===A.name)?e.map(e=>e.name===A.name?(0,r._)((0,t._)({},e),{quantity:e.quantity+1}):e):[...e,(0,r._)((0,t._)({},A),{quantity:1})])},removeFromCart:A=>{n(e=>e.filter(e=>e.name!==A))},clearCart:()=>{n([])},updateQuantity:(A,e)=>{e<1||n(a=>a.map(a=>a.name===A?(0,r._)((0,t._)({},a),{quantity:e}):a))}},children:e})}function g(){let A=(0,o.useContext)(i);if(!A)throw Error("useCart must be used within a CartProvider");return A}},5143:function(A,e,a){"use strict";a.d(e,{R:function(){return i},X:function(){return o}});var t=a(7437),r=a(2265);let s=(0,r.createContext)();function o(A){let{children:e}=A,[a,o]=(0,r.useState)(""),[i,n]=(0,r.useState)([]),[g,c]=(0,r.useState)(!1);return(0,t.jsx)(s.Provider,{value:{searchTerm:a,searchResults:i,isSearching:g,setSearchResults:n,setIsSearching:c,updateSearch:A=>{o(A)},clearSearch:()=>{o(""),n([]),c(!1)}},children:e})}function i(){let A=(0,r.useContext)(s);if(!A)throw Error("useSearch must be used within a SearchProvider");return A}}},function(A){A.O(0,[301,145,971,117,744],function(){return A(A.s=8220)}),_N_E=A.O()}]);